const NUM_NOTES: usize = 88;

const PITCHES: [f32; NUM_NOTES] = [
    27.5000, 29.1352, 30.8677, 32.7032, 34.6478, 36.7081, 38.8909, 41.2034, 43.6535, 46.2493,
    48.9994, 51.9131, 55.0000, 58.2705, 61.7354, 65.4064, 69.2957, 73.4162, 77.7817, 82.4069,
    87.3071, 92.4986, 97.9989, 103.8262, 110.0000, 116.5409, 123.4708, 130.8128, 138.5913,
    146.8324, 155.5635, 164.8138, 174.6141, 184.9972, 195.9977, 207.6523, 220.0000, 233.0819,
    246.9417, 261.6256, 277.1826, 293.6648, 311.1270, 329.6276, 349.2282, 369.9944, 391.9954,
    415.3047, 440.0000, 466.1638, 493.8833, 523.2511, 554.3653, 587.3295, 622.2540, 659.2551,
    698.4565, 739.9888, 783.9909, 830.6094, 880.0000, 932.3275, 987.7666, 1046.5023, 1108.7305,
    1174.6591, 1244.5079, 1318.5102, 1396.9129, 1479.9777, 1567.9817, 1661.2188, 1760.0000,
    1864.6550, 1975.5332, 2093.0045, 2217.4610, 2349.3181, 2489.0159, 2637.0205, 2793.8259,
    2959.9554, 3135.9635, 3322.4376, 3520.0000, 3729.3101, 3951.0664, 4186.0090,
];

const NOTES: [&'static str; NUM_NOTES] = [
    ":a0", ":a#0", ":b0", ":c1", ":c#1", ":d1", ":d#1", ":e1", ":f1", ":f#1", ":g1", ":g#1", ":a1",
    ":a#1", ":b1", ":c2", ":c#2", ":d2", ":d#2", ":e2", ":f2", ":f#2", ":g2", ":g#2", ":a2",
    ":a#2", ":b2", ":c3", ":c#3", ":d3", ":d#3", ":e3", ":f3", ":f#3", ":g3", ":g#3", ":a3",
    ":a#3", ":b3", ":c4", ":c#4", ":d4", ":d#4", ":e4", ":f4", ":f#4", ":g4", ":g#4", ":a4",
    ":a#4", ":b4", ":c5", ":c#5", ":d5", ":d#5", ":e5", ":f5", ":f#5", ":g5", ":g#5", ":a5",
    ":a#5", ":b5", ":c6", ":c#6", ":d6", ":d#6", ":e6", ":f6", ":f#6", ":g6", ":g#6", ":a6",
    ":a#6", ":b6", ":c7", ":c#7", ":d7", ":d#7", ":e7", ":f7", ":f#7", ":g7", ":g#7", ":a7",
    ":a#7", ":b7", ":c8",
];

pub fn atom_to_pitch(note: &str) -> Option<f32> {
    NOTES.iter().position(|&n| n == note).map(|i| PITCHES[i])
}

pub fn midi_to_pitch(note: u8) -> Option<f32> {
    // Midi middle C (C4) is 60, our middle C is at index 40
    PITCHES.get(note as usize - 20).map(|&s| s)
}
